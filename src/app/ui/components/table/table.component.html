<div class="p-4">
  <!--Search Input -->
  <div class="mb-4">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (ngModelChange)="onChangeSearchInput()"
      placeholder="Search..."
      class="w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-blue-400"
    />
  </div>

  <!-- Table -->
  <div class="overflow-auto scroll-auto">
    <table class="min-w-full bg-white border border-gray-200 rounded-lg shadow">
      <thead class="bg-gray-100">
        <tr>
          <th
            *ngFor="let column of columnNames"
            class="text-center px-4 py-2 font-medium text-gray-700 border-b"
          >
            {{ column | titlecase }}
          </th>
             <th
            
            class="text-center px-4 py-2 font-medium text-gray-700 border-b"
          >
          Actions
          </th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let item of responseApi?.data?.paginatedData"
          class="hover:bg-gray-50 transition-colors"
        >
          <td
            *ngFor="let column of columnNames"
            class="px-4 py-2 border-b text-gray-700"
          >
          <ng-container [ngSwitch]="true">
    <!-- Primitive types -->
    <span *ngSwitchCase="isString(item[column])">{{ item[column] }}</span>
    <span *ngSwitchCase="isNumber(item[column])">{{ item[column] }}</span>
    <span *ngSwitchCase="isBoolean(item[column])">{{ item[column] ? 'Yes' : 'No' }}</span>
    
    <!-- Array type -->
    <span *ngSwitchCase="isArray(item[column])" class="flex flex-wrap gap-1">
      <span *ngFor="let el of item[column]" class="bg-gray-100 px-2 py-1 rounded">
   
        {{ el }}
      </span>
    </span>
    
    <!-- Object type -->
    <span *ngSwitchCase="isObject(item[column])" class="flex flex-col">
      <span *ngFor="let key of getObjectKeys(item[column])" class="text-sm">
        
        <strong>{{ key }}:</strong> {{ item[column][key] }}
      </span>
    </span>
    <!--Default Case -->
      <span *ngSwitchDefault>{{ item[column] | json }}</span>
  </ng-container>
          </td>
             <td
           
            class="px-4 py-2 border-b text-gray-700"
          >
      <a [routerLink]="[`${deleteActionLink}`,item['id']]" class="py-3 px-4 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-red-500 text-red-500 hover:border-red-400 hover:text-red-400 focus:outline-hidden focus:border-red-400 focus:text-red-400 disabled:opacity-50 disabled:pointer-events-none">
                         Delete
                        </a>
                        <a [routerLink]="[`${editActionLink}`,item['id']]" class="py-3 px-4 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-yellow-500 text-yellow-500 hover:border-yellow-400 focus:outline-hidden focus:border-yellow-400 focus:text-yellow-400 disabled:opacity-50 disabled:pointer-events-none">
                          Button
                        </a>
          </td>
        </tr>
        <tr *ngIf="responseApi.data.pageSize === 0">
          <td
            [attr.colspan]="columnNames.length"
            class="text-center px-4 py-2 text-gray-500"
          >
            No data found.
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!--  Pagination -->
    <ng-container *ngIf="responseApi.isSuccess">

      <app-pagination-component (pageChanged)="onChangePage($event)"  [buttonColorClass]="'bg-indigo-600 text-white'" [pagination]="responseApi.data"></app-pagination-component>
    </ng-container>

</div>
